"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["37220"],{332148:function(e,t,n){n.d(t,{Z:()=>u});var i=n(544891),l=n(570140),a=n(346479),s=n(624453),r=n(668781),o=n(981631),d=n(388032);let c={async pinMessage(e,t){let{id:n,name:l}=e;await a.Z.unarchiveThreadIfNecessary(e.id),i.tn.put({url:o.ANM.PIN(n,t),oldFormErrors:!0,rejectWithError:!0}).catch(()=>{let t;t=e.isPrivate()?d.intl.formatToPlainString(d.t.Q89oQU,{maxPins:o.tG9}):d.intl.formatToPlainString(d.t.NnO1S0,{maxPins:o.tG9,channelName:l}),r.Z.show({title:d.intl.string(d.t.HI88Q0),body:t,confirmText:d.intl.string(d.t.BddRzc)})})},async unpinMessage(e,t){await a.Z.unarchiveThreadIfNecessary(e.id),i.tn.del({url:o.ANM.PIN(e.id,t),oldFormErrors:!0,rejectWithError:!0}).catch(()=>r.Z.show({title:d.intl.string(d.t.xFjBys),body:d.intl.string(d.t["0R/Toa"]),confirmText:d.intl.string(d.t["7NqTJi"]),cancelText:d.intl.string(d.t["ETE/oK"]),onConfirm:c.unpinMessage.bind(c,e,t)}))},ackPins(e){l.Z.dispatch({type:"CHANNEL_PINS_ACK",channelId:e})},fetchPins(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=s.Z.getPinnedMessages(e);(t||null==n||!n.loaded&&!n.loading)&&(l.Z.dispatch({type:"LOAD_PINNED_MESSAGES",channelId:e}),i.tn.get({url:o.ANM.PINS(e),retries:2,oldFormErrors:!0,rejectWithError:!0}).then(t=>{l.Z.dispatch({type:"LOAD_PINNED_MESSAGES_SUCCESS",messages:t.body,channelId:e})},()=>{l.Z.dispatch({type:"LOAD_PINNED_MESSAGES_FAILURE",channelId:e})}))}},u=c},257559:function(e,t,n){n.d(t,{Z:()=>_}),n(789020),n(47120);var i=n(200651),l=n(192379),a=n(120356),s=n.n(a),r=n(481060),o=n(332148),d=n(904245),c=n(933557),u=n(576855),g=n(372900),f=n(726521),m=n(294218),h=n(699516),E=n(594174),v=n(630388),Z=n(970257),x=n(981631),S=n(388032),N=n(316334);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends l.PureComponent{render(){let e,t;let{report:n}=this.state,{channel:l,message:a,showContextMenuHint:s,...o}=this.props,d=l.type===x.d4z.GUILD_ANNOUNCEMENT&&(0,v.yE)(a.flags,x.iLy.CROSSPOSTED);return s&&(e=(0,i.jsx)(u.Z,{className:N.spacingTop,children:S.intl.format(S.t.IxY7Ex,{})})),(0,Z.vc)(a)&&(t=(0,i.jsx)(r.j7V,{value:n,onChange:this.handleToggleReport,hideBorder:!0,className:N.spacingTop,children:S.intl.string(S.t.x0jzo6)})),(0,i.jsx)(g.Z.Provider,{value:l.guild_id,children:(0,i.jsxs)(r.ConfirmModal,{header:d?S.intl.string(S.t.aIz1oa):S.intl.string(S.t.MWMcg4),confirmText:S.intl.string(S.t.oyYWHB),cancelText:S.intl.string(S.t["ETE/oK"]),onConfirm:this.handleDelete,...o,children:[(0,i.jsx)(r.Text,{variant:"text-md/normal",className:N.spacing,children:d?S.intl.string(S.t["2kHABQ"]):S.intl.string(S.t.AMvpS0)}),(0,i.jsx)("div",{className:N.message,children:(0,i.jsx)(m.Z,{channel:l,message:a,disableInteraction:!0})}),t,e]})})}constructor(...e){super(...e),I(this,"state",{report:!1}),I(this,"handleDelete",()=>{let{report:e}=this.state,{channel:t,message:n}=this.props;e?(0,f.ak)(n,"message_delete_alert",()=>d.Z.deleteMessage(t.id,n.id)):d.Z.deleteMessage(t.id,n.id)}),I(this,"handleToggleReport",e=>{this.setState({report:e})})}}let _={confirmPin:function(e,t){(0,r.h7j)(n=>{let l;let a=(0,c.F6)(e,E.default,h.Z);return l=e.isPrivate()?S.intl.string(S.t.hMRngI):S.intl.formatToPlainString(S.t["3IRluL"],{channelName:a}),(0,i.jsx)(g.Z.Provider,{value:e.guild_id,children:(0,i.jsxs)(r.ConfirmModal,{header:S.intl.string(S.t.bKMaZW),confirmText:S.intl.string(S.t.rOQ5BQ),cancelText:S.intl.string(S.t["ETE/oK"]),confirmButtonColor:r.zxk.Colors.BRAND,onConfirm:()=>o.Z.pinMessage(e,t.id),...n,children:[(0,i.jsx)(r.Text,{variant:"text-md/normal",className:N.spacing,children:l}),(0,i.jsx)("div",{className:N.message,children:(0,i.jsx)(m.Z,{channel:e,message:t,animateAvatar:!1,disableInteraction:!0})})]})})})},confirmUnpin:function(e,t){(0,r.h7j)(n=>(0,i.jsx)(g.Z.Provider,{value:e.guild_id,children:(0,i.jsxs)(r.ConfirmModal,{header:S.intl.string(S.t.CFF2vL),confirmText:S.intl.string(S.t.lAU5jI),cancelText:S.intl.string(S.t["ETE/oK"]),onConfirm:()=>o.Z.unpinMessage(e,t.id),...n,children:[(0,i.jsx)(r.Text,{variant:"text-md/normal",className:N.spacing,children:S.intl.string(S.t.NjEPp6)}),(0,i.jsx)("div",{className:s()(N.message,N.spacing),children:(0,i.jsx)(m.Z,{channel:e,message:t,disableInteraction:!0})}),(0,i.jsx)(u.Z,{children:S.intl.format(S.t.oCVB3d,{})})]})}))},confirmDelete:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.h7j)(l=>(0,i.jsx)(p,{channel:e,message:t,showContextMenuHint:n,...l}))},confirmEdit:function(e,t,n){(0,r.h7j)(l=>(0,i.jsx)(r.ConfirmModal,{header:S.intl.string(S.t.aIz1oa),confirmText:S.intl.string(S.t["cY+Ooa"]),cancelText:S.intl.string(S.t["ETE/oK"]),confirmButtonColor:r.zxk.Colors.BRAND,onConfirm:()=>d.Z.editMessage(e,t,{content:n}),...l,children:(0,i.jsx)(r.Text,{variant:"text-md/normal",className:N.spacing,children:S.intl.string(S.t.grBcMz)})}))}}},112554:function(e,t,n){n.d(t,{K:()=>s,b:()=>r});var i=n(399606),l=n(375954),a=n(247206);let s=(e,t,n)=>{var s,r;let o=(0,i.e7)([l.Z],()=>l.Z.getMessage(e,t));if(null==o)return[];let d=void 0!==n?e=>e.url===n:e=>(0,a.KP)({type:a.lJ.Attachment,media:e},(0,a.HH)(o));return null!==(r=null==o?void 0:null===(s=o.attachments)||void 0===s?void 0:s.filter(d))&&void 0!==r?r:[]},r=(e,t,n)=>{var s,r;let o=(0,i.e7)([l.Z],()=>l.Z.getMessage(e,t));if(null==o)return[];let d=void 0!==n?e=>e.id===n:e=>(0,a.KP)({type:a.lJ.Embed,media:e},(0,a.HH)(o));return null!==(r=null==o?void 0:null===(s=o.embeds)||void 0===s?void 0:s.filter(d))&&void 0!==r?r:[]}},788679:function(e,t,n){n.r(t),n.d(t,{default:()=>u});var i=n(200651);n(192379);var l=n(481060),a=n(522664),s=n(247206),r=n(668058),o=n(112554),d=n(160877),c=n(388032);function u(e){let{channelId:t,messageId:n,mediaItemUrl:u,embedId:g,transitionState:f,onClose:m}=e,h=(0,o.K)(t,n,u),E=(0,o.b)(t,n,g),{reportFalsePositive:v,isReportFalsePositiveLoading:Z}=(0,r.$)({onSuccess:()=>(0,d.s)(m),onError:()=>{(0,l.showToast)((0,l.createToast)(c.intl.string(c.t.R0RpRU),l.ToastType.FAILURE))},report:()=>{(0,a.Uj)(t,n,h.map(e=>e.id),E.map(e=>e.id))}});return h.length>0||E.length>0||m(),(0,i.jsx)(d.$,{messageId:n,channelId:t,isReportFalsePositiveLoading:Z,analyticsContext:s.UU.EXPLICIT_MEDIA_OBSCURED_FALSE_POSITIVE_FLOW,onConfirmPress:v,attachmentPreview:1===h.length&&0===E.length?h[0]:void 0,embedPreview:1===E.length&&0===h.length?E[0]:void 0,transitionState:f,onClose:m})}},111618:function(e,t,n){n.d(t,{Z:()=>c});var i,l,a,s=n(442837),r=n(570140);let o={};class d extends(a=s.ZP.Store){getOptions(e){return o[e]}}l="SendMessageOptionsStore",(i="displayName")in d?Object.defineProperty(d,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):d[i]=l;let c=new d(r.Z,{MESSAGE_CREATE:function(e){let{message:t,sendMessageOptions:n}=e;null!=n&&(o[t.id]=n),null!=t.nonce&&t.nonce in o&&delete o[t.nonce]}})},151007:function(e,t,n){n.d(t,{Z:()=>s});var i=n(665906),l=n(901461),a=n(981631);function s(e,t,n){return!t.isSystemDM()&&!(0,l.Z)(e)&&(n||t.isPrivate())&&(0,i.RG)(t)&&t.type!==a.d4z.GUILD_VOICE&&t.type!==a.d4z.GUILD_STAGE_VOICE}},730954:function(e,t,n){n.d(t,{Z:()=>a}),n(789020);var i=n(904245),l=n(667204);function a(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(i.Z.deleteMessage(e.id,t.id,!0),t.isCommandType()){null!=t.interactionData&&null!=a.applicationId&&(0,l.d)(t,e,a);return}let{content:s,tts:r,messageReference:o,flags:d,nonce:c}=t;i.Z.sendMessage(e.id,{content:s,tts:r,invalidEmojis:[],validNonShortcutEmojis:[]},void 0,{nonce:c,flags:d,messageReference:null!=o?o:void 0,...a})}},996861:function(e,t,n){n.d(t,{$Z:()=>j,B8:()=>A,F4:()=>T,HH:()=>D,Hd:()=>b,Xl:()=>P,dF:()=>R,eM:()=>G,fB:()=>M,gK:()=>L,mG:()=>y,qe:()=>O,rY:()=>C,ts:()=>k,zW:()=>_}),n(200651),n(192379),n(481060);var i=n(332148),l=n(904245),a=n(257559),s=n(143740),r=n(912332),o=n(434404),d=n(978946);n(726521);var c=n(623292),u=n(324701),g=n(488131),f=n(314897),m=n(592125),h=n(626135),E=n(934415),v=n(572004),Z=n(585483),x=n(709054),S=n(111618),N=n(50284),I=n(730954),p=n(981631);function _(e){let t=e.getGuildId();null!=t&&o.Z.open(t,(0,d.r)(t))}function T(e,t,n){(0,v.JG)(n.shiftKey?"".concat(t.channel_id,"-").concat(t.id):t.id)}function M(e,t){h.default.track(p.rMx.MESSAGE_LINK_COPIED,{message_id:t.id,channel:t.channel_id}),(0,v.JG)((0,E.wR)(e.guild_id,e.id,t.id))}function j(e,t,n){t.state===p.yb.SEND_FAILED||n.shiftKey?l.Z.deleteMessage(e.id,t.id,t.state===p.yb.SEND_FAILED):a.Z.confirmDelete(e,t)}function b(e,t){l.Z.startEditMessage(e.id,t.id,t.content)}function A(e,t){(0,N.Z)(e.id,t.id)}function C(e,t,n){if(!1===t.pinned){n.shiftKey?i.Z.pinMessage(e,t.id):a.Z.confirmPin(e,t);return}n.shiftKey?i.Z.unpinMessage(e,t.id):a.Z.confirmUnpin(e,t)}function P(e,t){(0,s.Z)(e.id,t.id)}function y(e,t){(0,I.Z)(e,t,void 0,S.Z.getOptions(t.id))}function D(e,t,n){let i=e.isPrivate(),l=t.author.id===f.default.getId();(0,c.fE)({channel:e,message:t,shouldMention:!n.shiftKey&&!l,showMentionToggle:!i&&!l}),Z.S.dispatchToLastSubscribed(p.CkL.TEXTAREA_FOCUS)}function L(e,t){(0,g.R6)(e,t,"Message")}function O(e,t){let n=m.Z.getChannel(x.default.castMessageIdAsChannelId(t.id));null!=n&&(0,g.ok)(n)}function R(e,t){(0,u.z)({channelId:e.id,messageId:t.id})}function G(e,t){(0,u.x)({channelId:e.id,messageId:t.id})}function k(e,t){(0,r.l8)({message:t,source:"message-actions"})}},225138:function(e,t,n){n.d(t,{S:()=>K,default:()=>F});var i=n(200651);n(192379);var l=n(374470),a=n(481060),s=n(239091),r=n(911969),o=n(299206),d=n(26737),c=n(29264),u=n(905041),g=n(89013),f=n(988500),m=n(570870),h=n(786095),E=n(268623),v=n(986240),Z=n(667922),x=n(941389),S=n(449751),N=n(749339),I=n(601184),p=n(6148),_=n(519110),T=n(759875),M=n(168405),j=n(536639),b=n(720904),A=n(88791),C=n(385302),P=n(873699),y=n(134323),D=n(429260),L=n(1626),O=n(279329),R=n(627938),G=n(512303),k=n(481300),w=n(975368),U=n(388032);function F(e){var t,n;let i,a,r,o,{channel:d,message:c,target:u,mediaItem:g,shouldHideMediaOptions:f,onSelect:m,onHeightUpdate:h}=e,E=u,v=u.getAttribute("data-type"),Z=u.getAttribute("data-id"),x=u.getAttribute("data-name");if(null!=g)a=i=r=g.url;else for(;(0,l.k)(E);)(0,l.k)(E,HTMLImageElement)&&null!=E.src&&(a=E.src),(0,l.k)(E,HTMLAnchorElement)&&null!=E.href&&(i=E.href,o=E.textContent,null==a&&"img"===E.getAttribute("data-role")&&(a=i,E.hasAttribute("data-safe-src")&&""!==E.getAttribute("data-safe-src")&&(r=E.getAttribute("data-safe-src")))),E=E.parentNode;return K({message:c,channel:d,mediaItem:g,textSelection:null!==(n=null===(t=document.getSelection())||void 0===t?void 0:t.toString())&&void 0!==n?n:"",favoriteableType:v,favoriteableId:Z,favoriteableName:x,itemHref:i,itemSrc:a,itemSafeSrc:r,itemTextContent:o,canReport:!0,onHeightUpdate:h,onSelect:m,onClose:s.Zy,navId:"message",ariaLabel:U.intl.string(U.t.ChPNkJ),shouldHideMediaOptions:f})}function K(e){let{message:t,channel:n,mediaItem:l,textSelection:s,favoriteableType:F,favoriteableId:K,favoriteableName:z,itemHref:H,itemSrc:B,itemSafeSrc:X,itemTextContent:q,canReport:J,onHeightUpdate:Q,onSelect:V,onClose:W,navId:Y,ariaLabel:$,shouldHideMediaOptions:ee=!1}=e,et=(0,d.Z)(s),en=(0,g.Z)(s),ei=(0,b.Z)(t,n),el=(0,Z.Z)(t,n),ea=(0,p.Z)(t,n),es=(0,j.Z)(t,n),er=(0,_.Z)({type:F,id:K,name:z}),eo=(0,L.Z)(t,n),ed=(0,M.Z)(t,n),ec=(0,A.Z)(t),eu=(0,x.Z)(t,n),eg=(0,S.Z)(t,n),ef=(0,C.Z)(t,n),em=(0,P.Z)(t,n),eh=(0,I.Z)(t,n),eE=(0,D.Z)(t),ev=(0,D.e)(t),eZ=(0,O.Z)(t,n),ex=(0,u.Z)(null!=H?H:B,q,t,{shouldHideMediaOptions:ee}),eS=(0,c.Z)(X,t,{shouldHideMediaOptions:ee}),eN=(0,k.Z)(t,l),eI=(0,o.Z)({id:t.id,label:U.intl.string(U.t.zBoHlZ),shiftId:"".concat(t.channel_id,"-").concat(t.id)}),ep=(0,y.Z)(t,n),e_=(0,T.Z)(t,n),eT=(0,R.Z)(t,n),eM=(0,h.Z)(s,n.getGuildId()),ej=(0,E.Z)(t),eb=(0,N.Z)(t),eA=(0,w.Z)(t),eC=(0,v.Z)(t,n),eP=(0,m.Z)({commandType:r.yU.MESSAGE,commandTargetId:t.id,channel:n,guildId:void 0,onHeightUpdate:Q}),ey=(0,G.Z)(t),eD=(0,f.Z)(t);return(0,i.jsxs)(a.v2r,{navId:Y,onClose:W,"aria-label":$,onSelect:V,children:[(0,i.jsx)(a.kSQ,{children:et}),(0,i.jsx)(a.kSQ,{children:en}),(0,i.jsxs)(a.kSQ,{children:[""===s?ei:null,el,ec,eC]}),(0,i.jsxs)(a.kSQ,{children:[ea,ep,e_,eT]}),(0,i.jsxs)(a.kSQ,{children:[eb,es,ej,eP,eo,ed,eu,eg,eZ,eD,ey]}),(0,i.jsxs)(a.kSQ,{children:[em,ef,eh,J&&eE,J&&ev]}),(0,i.jsxs)(a.kSQ,{children:[er,eM,eS,eN,eA]}),(0,i.jsx)(a.kSQ,{children:ex}),(0,i.jsx)(a.kSQ,{children:eI})]})}},786095:function(e,t,n){n.d(t,{Z:()=>S}),n(47120),n(724458);var i=n(200651),l=n(192379),a=n(481060),s=n(239091),r=n(236413),o=n(727072),d=n(85960),c=n(676317),u=n(65912),g=n(556012),f=n(572456),m=n(434404),h=n(981631),E=n(273504),v=n(388032),Z=n(884081);let x=E.fX.KEYWORD;function S(e,t){let{perGuildMaxCount:n}=d.I6[x],{isLoading:S,saveRule:N,errorMessage:I}=(0,u.w)(),{createNewEditingRule:p}=(0,u.V)(),[_,T]=l.useState(!1),[M,j]=(0,o.I2)(t),{rulesByTriggerType:b,updateRule:A}=(0,o.pH)(t),C=l.useMemo(()=>{var e;return null!==(e=b[x])&&void 0!==e?e:[]},[b]),P=0===C.length,y=n>C.length&&!P;if(!l.useMemo(()=>(0,c.ze)(t),[t])||null==e||0===e.length||null==t)return null;let D=e.split(" "),L=D.length;try{(0,r.km)(D,E.RH)}catch(e){return null}let O=()=>{null!=t&&((0,s.Zy)(),m.Z.open(t,h.pNK.GUILD_AUTOMOD),setTimeout(()=>{p(t,x,{triggerMetadata:{keywordFilter:[e],regexPatterns:[],allowList:[]}})},400))},R=async t=>{var n,i;if((0,s.Zy)(),!await (0,f.XN)(t.name,e))return;let l={...t,triggerMetadata:{...t.triggerMetadata,keywordFilter:[...null!==(i=null===(n=t.triggerMetadata)||void 0===n?void 0:n.keywordFilter)&&void 0!==i?i:[],e]}};await N(l,C),A(l),null!=I?(0,a.showToast)((0,a.createToast)(v.intl.string(v.t.wH6L0t),a.ToastType.FAILURE)):(0,a.showToast)((0,a.createToast)(v.intl.string(v.t["0rdYm5"]),a.ToastType.SUCCESS))},G=(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.sNh,{id:"automod-rules-loading",label:v.intl.string(v.t.ZTNur6)})});return M||(G=(0,i.jsxs)(i.Fragment,{children:[P&&(0,i.jsx)(a.sNh,{id:"add-first-rule",label:v.intl.string(v.t.f72Zqa),action:O,disabled:S}),C.map(e=>{let t=(0,d.V9)(x).reduce((t,n)=>{let i=e.actions.find(e=>{let{type:t}=e;return n===t});if(null==i)return t;let l=(0,g.c)(n,i);return t+", ".concat(null==l?void 0:l.headerText)},"");return(0,i.jsx)(a.k5B,{id:e.id,label:e.name,subtext:(0,i.jsx)(a.Text,{color:"text-muted",className:Z.actionTextHeader,variant:"text-xs/normal",children:t.slice(2)}),group:"automod-rule-selection",checked:!1,disabled:S,action:()=>R(e)},e.id)}),y&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Clw,{}),(0,i.jsx)(a.sNh,{id:"add-another-rule",label:v.intl.string(v.t["0K5jDA"]),action:O,disabled:S})]})]})),(0,i.jsx)(a.sNh,{id:"guild-automod-add-selection",label:v.intl.formatToPlainString(v.t.Kkjv1t,{keywordCount:L}),onFocus:()=>{!_&&(T(!0),j())},children:G})}},268623:function(e,t,n){n.d(t,{Z:()=>v}),n(47120);var i=n(200651),l=n(192379),a=n(442837),s=n(481060),r=n(436774),o=n(2818),d=n(324701),c=n(575016),u=n(768943),g=n(175006),f=n(742989),m=n(898150),h=n(70956),E=n(388032);function v(e){let{enabled:t}=o.Z.useExperiment({location:"LongPressMessageActionSheet"}),{showReminders:n}=f.Z.useExperiment({location:"LongPressMessageActionSheet"}),v=(0,a.e7)([u.Z],()=>u.Z.getSavedMessage(e.channel_id,e.id)),Z=function(e){let{message:t,savedMessage:n}=e,[a,r]=l.useState(new Date);l.useEffect(()=>{let e=setInterval(()=>r(new Date),h.Z.Millis.MINUTE);return()=>{clearInterval(e)}},[]);let o=l.useCallback(e=>(0,d.z)({channelId:t.channel_id,messageId:t.id,dueAt:e,displayToast:!0}),[t.channel_id,t.id]),u=(0,m.r)({createReminder:o}),{dueInText:g}=(0,c.AT)({dueAt:null==n?void 0:n.saveData.dueAt,now:a,type:c.hQ.LONG});return(null==n?void 0:n.saveData.dueAt)==null?(0,i.jsx)(s.kSQ,{label:E.intl.string(E.t.roMu1N),children:u}):(0,i.jsxs)(s.kSQ,{label:g,children:[(0,i.jsx)(s.sNh,{id:"mark-complete",label:E.intl.string(E.t.yjGtdH),icon:s.kmB,action:()=>(0,d.z)({channelId:t.channel_id,messageId:t.id,dueAt:void 0})}),(0,i.jsx)(s.sNh,{id:"edit-reminder",label:E.intl.string(E.t.vrbqs7),children:u})]})}({message:e,savedMessage:v});return t||n?null!=v||(0,g.Z)()?(0,i.jsxs)(s.sNh,{id:"save-for-later",label:E.intl.string(E.t.tpxJtr),action:()=>null==v?(0,d.z)({channelId:e.channel_id,messageId:e.id,displayToast:!0}):(0,d.x)({channelId:e.channel_id,messageId:e.id,dueAt:v.saveData.dueAt,displayToast:!0}),children:[null!=v?(0,i.jsx)(s.sNh,{id:"remove-from-for-later",label:E.intl.string(E.t.SvXS1d),icon:s.plf,action:()=>(0,d.x)({channelId:e.channel_id,messageId:e.id,dueAt:v.saveData.dueAt,displayToast:!0})}):(0,i.jsx)(s.sNh,{id:"create-bookmark",label:E.intl.string(E.t["9p3D9v"]),icon:s.gt9,action:()=>(0,d.z)({channelId:e.channel_id,messageId:e.id,displayToast:!0})}),(0,i.jsx)(s.Clw,{}),Z]}):(0,i.jsx)(s.sNh,{id:"save-for-later-upsell",label:E.intl.string(E.t.tpxJtr),icon:s.SrA,iconProps:{color:r.JX.PREMIUM_TIER_2},action:()=>(0,d.z)({channelId:e.channel_id,messageId:e.id,displayToast:!0})}):null}},986240:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651),l=n(192379),a=n(481060),s=n(980463),r=n(328908),o=n(992970),d=n(135793),c=n(111810),u=n(84040),g=n(626135),f=n(981631),m=n(388032);function h(e,t){let n=(0,u.Z)(t,e),h=e.hasPotions(),E=(0,c.V1)("Message Context Menu"),v=l.useCallback(n=>{try{(0,s.qc)(t.id,e.id,n)}catch{(0,a.showToast)((0,a.createToast)(m.intl.string(m.t.xsfC2d),a.ToastType.FAILURE))}},[t.id,e.id]),Z=l.useCallback(()=>{g.default.track(f.rMx.CONFETTI_POTION_ENTRYPOINT_CLICKED,{location:o.MG.MessageContextMenu}),(0,d.s)({channelId:t.id,message:e,onRedeem:v,onClose:r.Qy,source:o.YD.MessageContextMenu})},[t.id,e,v]);return n&&!h&&E?(0,i.jsx)(a.sNh,{id:"add-confetti-potion",label:m.intl.string(m.t.icaJW1),icon:a.l22,action:Z}):null}},667922:function(e,t,n){n.d(t,{Z:()=>x});var i=n(200651),l=n(192379),a=n(442837),s=n(481060),r=n(543241),o=n(222677),d=n(995774),c=n(665906),u=n(695346),g=n(496675),f=n(768581),m=n(585483),h=n(176354),E=n(981631),v=n(185923),Z=n(388032);function x(e,t){let{reducedMotion:n}=l.useContext(s.Sfi),f=(0,c.$R)(t),x=(0,a.e7)([g.Z],()=>(t.isPrivate()||g.Z.can(E.Plq.ADD_REACTIONS,t))&&f,[t,f]),N=(0,r.MZ)(t.getGuildId());if(!u.nc.getSetting()||!x||e.type===E.uaV.GUILD_INVITE_REMINDER)return null;let I=N.filter(e=>!h.ZP.isEmojiFilteredOrLocked({emoji:e,channel:t,intention:v.Hz.REACTION})).slice(0,12).map((l,a)=>{var r,c;return(0,i.jsx)(s.sNh,{color:"default",id:null!==(c=null!==(r=l.id)&&void 0!==r?r:l.optionallyDiverseSequence)&&void 0!==c?c:l.name,label:":".concat(l.name,":"),icon:e=>(0,i.jsx)(S,{...e,reducedMotionEnabled:n.enabled,emoji:l}),action:()=>{(0,o.rU)(t.id,e.id,(0,d.g1)(l),o.TW.MESSAGE_CONTEXT_MENU)},dontCloseOnActionIfHoldingShiftKey:!0},a)});return(0,i.jsx)(s.sNh,{id:"add-reaction",label:Z.intl.string(Z.t.lfIHs7),action:()=>{m.S.dispatchKeyed(E.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!0})},color:"default",children:(0,i.jsxs)(i.Fragment,{children:[I,(0,i.jsx)(s.Clw,{}),(0,i.jsx)(s.sNh,{color:"default",id:"other-reactions",label:Z.intl.string(Z.t["OBCR+v"]),icon:s.EO4,action:()=>{m.S.dispatchKeyed(E.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!0})}})]})})}function S(e){var t;let{emoji:n,reducedMotionEnabled:l,className:a="",isFocused:s=!1}=e;return(0,i.jsx)("img",{className:a,src:null!=n.id?f.ZP.getEmojiURL({id:n.id,animated:n.animated&&(!l||s),size:18}):h.ZP.getURL(null!==(t=n.optionallyDiverseSequence)&&void 0!==t?t:""),alt:""})}},941389:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var l=n(481060),a=n(496675),s=n(996861),r=n(981631),o=n(388032);function d(e,t){let n=t.getGuildId();return null!=n&&(e.type===r.uaV.USER_JOIN||e.type===r.uaV.GUILD_INVITE_REMINDER)&&a.Z.canWithPartialContext(r.Plq.MANAGE_GUILD,{guildId:n})?(0,i.jsx)(l.sNh,{id:"configure",label:o.intl.string(o.t.NpHUi4),icon:l.idN,action:()=>(0,s.zW)(t)}):null}},449751:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(852229),a=n(481060),s=n(626135),r=n(572004),o=n(981631),d=n(388032);function c(e,t){return r.wS&&e.type!==o.uaV.GUILD_INVITE_REMINDER?(0,i.jsx)(a.sNh,{id:"copy-link",label:d.intl.string(d.t.Xrt5Pj),icon:a.xPt,action:()=>{(0,l.J)("".concat(location.protocol,"//").concat(location.host).concat(o.Z5c.CHANNEL(t.guild_id,t.id,e.id))),s.default.track(o.rMx.MESSAGE_LINK_COPIED,{message_id:e.id,channel:e.channel_id})}}):null}},749339:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var l=n(481060),a=n(39154),s=n(292419),r=n(572004),o=n(388032);function d(e){return r.wS?(0,i.jsx)(l.sNh,{id:"copy-text",label:o.intl.string(o.t.JrGD7O),icon:l.TIy,action:()=>{if((e=(0,a.Z)(e)).isComponentsV2()){let t=(0,s.np)(e.components);null!=t&&(0,r.JG)(t)}else(0,r.JG)(e.content)}}):null}},601184:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651);n(192379);var l=n(442837),a=n(481060),s=n(904245),r=n(257559),o=n(665906),d=n(496675),c=n(594174),u=n(981631),g=n(388032);function f(e,t){let n=(0,l.e7)([c.default],()=>c.default.getCurrentUser()),f=(0,o.$R)(t),m=(0,l.e7)([d.Z],()=>d.Z.can(u.Plq.MANAGE_MESSAGES,t),[t])||null!=n&&e.canDeleteOwnMessage(n.id);return e.state===u.yb.SENDING||!m||u.V$x.UNDELETABLE.has(e.type)||!f?null:(0,i.jsx)(a.sNh,{id:"delete",label:g.intl.string(g.t.xwMqDw),action:function(n){e.state===u.yb.SEND_FAILED?s.Z.deleteMessage(t.id,e.id,!0):n.shiftKey?s.Z.deleteMessage(t.id,e.id):r.Z.confirmDelete(t,e,!0)},color:"danger",icon:a.XHJ})}},6148:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var l=n(442837),a=n(481060),s=n(904245),r=n(665906),o=n(314897),d=n(418476),c=n(388032);function u(e,t){let n=(0,l.e7)([o.default],()=>o.default.getId()),u=(0,r.$R)(t),g=(0,r.Gu)(t);return(0,d.Z)(e,n)&&u&&!g?(0,i.jsx)(a.sNh,{id:"edit",label:c.intl.string(c.t.fsBWmZ),action:()=>s.Z.startEditMessage(t.id,e.id,e.content),icon:a.vdY}):null}},519110:function(e,t,n){n.d(t,{Z:()=>N}),n(757143);var i=n(200651),l=n(192379),a=n(442837),s=n(481060),r=n(80932),o=n(2052),d=n(543241),c=n(339085),u=n(633302),g=n(691251),f=n(268350),m=n(217590),h=n(453070),E=n(926491),v=n(378233),Z=n(981631),x=n(388032);function S(e){return u.ZP.getByName(e.replace(/(^:|:$)/g,""))}function N(e){let{type:t,id:n,name:N,isInExpressionPicker:I=!1}=e,{location:p}=(0,o.O)(),_=l.useMemo(()=>({...p,section:I?Z.jXE.EXPRESSION_PICKER:Z.jXE.CONTEXT_MENU}),[p,I]),T=(0,h.Go)(),M=(0,a.e7)([E.Z],()=>t===g.S.STICKER&&null!=n?E.Z.getStickerById(n):null),j=null!=M&&T.includes(M.id),b=(0,a.e7)([c.ZP],()=>{if(t===g.S.EMOJI){if(null!=n)return c.ZP.getDisambiguatedEmojiContext().getById(n);if(null!=N){var e;return null!==(e=S(N))&&void 0!==e?e:S(u.ZP.convertSurrogateToName(N))}}}),A=(0,d.C1)(null,b);return null!=M&&t===g.S.STICKER?(0,v.J8)(M)&&!(0,v.V9)(M)?null:j?(0,i.jsx)(s.sNh,{id:"unfavorite",action:()=>(0,f.hW)(M.id),label:x.intl.string(x.t.XhzKyM)}):(0,i.jsx)(s.sNh,{id:"favorite",action:()=>{(0,m.cQ)({sticker:M,location:{..._,object:Z.qAy.STICKER}}),(0,f.SA)(null==M?void 0:M.id)},label:x.intl.string(x.t.kWmiPT)}):null!=b&&t===g.S.EMOJI?A?(0,i.jsx)(s.sNh,{id:"unfavorite",action:()=>(0,r.Xe)(b),label:x.intl.string(x.t.Ay49KC)}):(0,i.jsx)(s.sNh,{id:"favorite",action:()=>{(0,d.J1)({emoji:b,location:{..._,object:Z.qAy.EMOJI}}),(0,r.$K)(b)},label:x.intl.string(x.t["nNsr6+"])}):void 0}},759875:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(481060),a=n(346610),s=n(868643),r=n(245216),o=n(996861),d=n(388032);function c(e,t){let n=(0,s.a)(e),{canForwardMessages:c}=(0,a.yk)({location:"MessageActionsMenu"},{autoTrackExposure:!1});return n&&c?(0,i.jsx)(l.sNh,{id:"forward",label:d.intl.string(d.t.I3ltXF),icon:r.Z,action:()=>{(0,o.ts)(t,e)}}):null}},168405:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(481060),a=n(665906),s=n(50284),r=n(388032);function o(e,t){return(0,a.$R)(t)?(0,i.jsx)(l.sNh,{id:"mark-unread",label:r.intl.string(r.t.RpE9k5),action:()=>(0,s.Z)(t.id,e.id),icon:l.z7b}):null}},536639:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651);n(192379);var l=n(442837),a=n(481060),s=n(332148),r=n(257559),o=n(496675),d=n(151007),c=n(981631),u=n(388032);function g(e,t){let n=(0,l.e7)([o.Z],()=>o.Z.can(c.Plq.MANAGE_MESSAGES,t),[t]);return e.state!==c.yb.SEND_FAILED&&(0,d.Z)(e,t,n)?!1===e.pinned?(0,i.jsx)(a.sNh,{id:"pin",action:function(n){n.shiftKey?s.Z.pinMessage(t,e.id):r.Z.confirmPin(t,e)},label:u.intl.string(u.t["CvQ18/"]),icon:a.qQX}):(0,i.jsx)(a.sNh,{id:"unpin",action:function(n){n.shiftKey?s.Z.unpinMessage(t,e.id):r.Z.confirmUnpin(t,e)},label:u.intl.string(u.t["Bse+Fx"]),icon:a.qQX}):null}},720904:function(e,t,n){n.d(t,{Z:()=>I});var i=n(200651);n(192379);var l=n(120356),a=n.n(l),s=n(442837),r=n(481060),o=n(543241),d=n(222677),c=n(995774),u=n(665906),g=n(695346),f=n(496675),m=n(768581),h=n(176354),E=n(981631),v=n(185923),Z=n(388032),x=n(818312);let S=["slight_smile","frowning","smile","stuck_out_tongue","wink"];function N(e){var t;let{emoji:n,isFocused:l}=e,{animated:s,src:o,surrogates:d}=n;return null==o&&null!=n.id?o=m.ZP.getEmojiURL({id:n.id,animated:!!s,size:20}):null==o&&(o=h.ZP.getURL(d)),(0,i.jsx)(r.ua7,{text:n.allNamesString,hideOnClick:!0,spacing:16,forceOpen:l,children:e=>(0,i.jsx)("div",{"aria-label":Z.intl.formatToPlainString(Z.t["/iYSo6"],{emojiName:n.name}),className:a()(x.button,{[x.focused]:l}),...e,children:null==o||""===o.trim()?(0,i.jsx)("span",{className:a()("emoji","emoji-text",x.icon),...e,children:d}):(0,i.jsx)("img",{className:x.icon,src:o,alt:""})})},null!==(t=n.id)&&void 0!==t?t:n.name)}function I(e,t){let n=(0,o.MZ)(t.guild_id).filter(e=>{var n;return!(e.useSpriteSheet&&S.indexOf(null!==(n=e.uniqueName)&&void 0!==n?n:"")>=0)&&!h.ZP.isEmojiPremiumLocked({emoji:e,channel:t,intention:v.Hz.REACTION})});n.length>4&&(n.length=4);let l=g.nc.useSetting(),a=(0,u.$R)(t),m=(0,s.e7)([f.Z],()=>l&&a&&(t.isPrivate()||f.Z.can(E.Plq.ADD_REACTIONS,t)),[t,a,l]),Z=n=>{(0,d.rU)(t.id,e.id,(0,c.g1)(n),d.TW.MESSAGE_CONTEXT_MENU)};return m&&n.length>0?(0,i.jsx)(r.kSQ,{className:x.wrapper,children:n.map((e,t)=>{var n;return(0,i.jsx)(r.sNh,{id:"quickreact-".concat(null!==(n=e.id)&&void 0!==n?n:t),render:t=>{let{isFocused:n}=t;return(0,i.jsx)(N,{emoji:e,isFocused:n})},action:()=>Z(e),dontCloseOnActionIfHoldingShiftKey:!0},t)})}):null}},88791:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(481060),a=n(79390),s=n(388032);function r(e){return null==e.reactions||0===e.reactions.length||e.isPoll()&&!(0,a.eQ)(e)?null:(0,i.jsx)(l.sNh,{id:"reactions",label:s.intl.string(s.t.wikODg),icon:l.EO4,action:()=>(0,l.ZDy)(async()=>{let{default:t}=await Promise.resolve().then(n.bind(n,785388));return n=>(0,i.jsx)(t,{...n,message:e})})})}},385302:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651);n(192379);var l=n(442837),a=n(481060),s=n(668781),r=n(79390),o=n(222677),d=n(665906),c=n(496675),u=n(981631),g=n(388032);function f(e,t){let n=(0,d.$R)(t);return!(0,l.e7)([c.Z],()=>c.Z.can(u.Plq.MANAGE_MESSAGES,t)&&n,[t,n])||null==e.reactions||0===e.reactions.length||e.isPoll()&&!(0,r.eQ)(e)?null:(0,i.jsx)(a.sNh,{id:"remove-reactions",label:g.intl.string(g.t.ZbtGBg),action:function(n){n.shiftKey?(0,o.wX)(t.id,e.id):s.Z.show({title:g.intl.string(g.t.iz3vYW),body:g.intl.string(g.t.VpjOCg),confirmText:g.intl.string(g.t.p89ACg),cancelText:g.intl.string(g.t.gm1Ven),onConfirm:()=>{(0,o.wX)(t.id,e.id)}})},color:"danger"})}},873699:function(e,t,n){n.d(t,{Z:()=>E}),n(724458),n(47120);var i=n(200651),l=n(192379),a=n(442837),s=n(481060),r=n(668781),o=n(79390),d=n(222677),c=n(665906),u=n(496675),g=n(768581),f=n(176354),m=n(981631),h=n(388032);function E(e,t){let{reducedMotion:n}=l.useContext(s.Sfi),g=(0,c.$R)(t),f=(0,a.e7)([u.Z],()=>u.Z.can(m.Plq.MANAGE_MESSAGES,t)&&g,[t,g]),E=e.reactions.reduce((e,t)=>{var n;return(null===(n=t.count_details)||void 0===n?void 0:n.vote)!=null||null!=e.find(e=>null!=e.id&&e.id===t.emoji.id||e.name===t.emoji.name)?e:[...e,t.emoji]},[]),Z=(n,i)=>{n.shiftKey?(0,d.$E)(t.id,e.id,i):r.Z.show({title:h.intl.string(h.t["73GqT0"]),body:h.intl.string(h.t.dmy5bm),confirmText:h.intl.string(h.t.p89ACg),cancelText:h.intl.string(h.t.gm1Ven),onConfirm:()=>{(0,d.$E)(t.id,e.id,i)}})};return!f||null==e.reactions||0===e.reactions.length||e.isPoll()&&!(0,o.eQ)(e)?null:(0,i.jsx)(s.sNh,{id:"remove-emoji-reactions",label:h.intl.string(h.t["zx/e4O"]),color:"danger",children:E.map(e=>{var t,l;return(0,i.jsx)(s.sNh,{id:"remove-emoji-reactions-".concat(null!==(t=e.name)&&void 0!==t?t:e.id),label:null==e.id?e.name:":".concat(e.name,":"),action:t=>Z(t,e),icon:t=>(0,i.jsx)(v,{...t,reducedMotionEnabled:n.enabled,emoji:e}),dontCloseOnActionIfHoldingShiftKey:!0},null!==(l=e.name)&&void 0!==l?l:e.id)})})}function v(e){var t;let{emoji:n,reducedMotionEnabled:l,className:a="",isFocused:s=!1}=e;return(0,i.jsx)("img",{className:a,src:null!=n.id?g.ZP.getEmojiURL({id:n.id,animated:n.animated&&(!l||s),size:18}):f.ZP.getURL(null!==(t=n.name)&&void 0!==t?t:""),alt:""})}},134323:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(481060),a=n(280845),s=n(996861),r=n(388032);function o(e,t){return(0,a.U)(t,e)?(0,i.jsx)(l.sNh,{id:"reply",label:r.intl.string(r.t["5IEsGx"]),icon:l.n$P,action:n=>{(0,s.HH)(t,e,n)}}):null}},429260:function(e,t,n){n.d(t,{Z:()=>u,e:()=>g});var i=n(200651);n(192379);var l=n(442837),a=n(481060),s=n(432877),r=n(726521),o=n(594174),d=n(970257),c=n(388032);function u(e){return(0,d.a4)(e)?(0,i.jsx)(a.sNh,{id:"report",label:c.intl.string(c.t.GwbdGR),action:()=>(0,r.ak)(e,"web_message_context_menu"),icon:a.U65,color:"danger"}):null}function g(e){let t=(0,l.e7)([s.ZP],()=>s.ZP.get("iar_testing")),n=(0,l.e7)([o.default],()=>o.default.getCurrentUser());return(0,d.a4)(e)&&null!=n&&n.isStaff()&&t?(0,i.jsx)(a.sNh,{id:"staff-test-message-report",label:"[STAFF] Test Message Report",action:()=>(0,r.Jw)(e,"web_message_context_menu"),icon:a.U65,color:"danger"}):null}},1626:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var l=n(481060),a=n(111618),s=n(730954),r=n(981631),o=n(388032);function d(e,t){return e.state!==r.yb.SEND_FAILED?null:(0,i.jsx)(l.sNh,{id:"resend",label:o.intl.string(o.t.lXHojo),action:()=>(0,s.Z)(t,e,void 0,a.Z.getOptions(e.id))})}},279329:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var l=n(442837),a=n(481060),s=n(196051),r=n(441729),o=n(388032);function d(e,t){let n=(0,l.e7)([r.Z],()=>r.Z.isSpeakingMessage(t.id,e.id),[t,e]);return""===e.content?null:(0,i.jsx)(a.sNh,{id:"tts",label:n?o.intl.string(o.t.CJ30BA):o.intl.string(o.t.yGLjXF),icon:a.J2R,action:()=>n?(0,s.NB)():(0,s.LA)(t,e)})}},627938:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(481060),a=n(665906),s=n(996861),r=n(388032);function o(e,t){return(0,a.NE)(t,e)?(0,i.jsx)(l.sNh,{id:"thread",label:r.intl.string(r.t.rBIGBA),icon:l.or_,action:()=>{(0,s.gK)(t,e)}}):null}},512303:function(e,t,n){n.d(t,{Z:()=>v});var i=n(200651),l=n(192379),a=n(373793),s=n(442837),r=n(481060),o=n(232567),d=n(700582),c=n(592180),u=n(565138),g=n(598077),f=n(430824),m=n(594174),h=n(388032),E=n(784168);function v(e){var t,n,v,Z;let x=null===(t=e.interactionMetadata)||void 0===t?void 0:t.authorizing_integration_owners[a.Y.USER_INSTALL],S=null===(n=e.interactionMetadata)||void 0===n?void 0:n.authorizing_integration_owners[a.Y.GUILD_INSTALL],N=null===(v=e.interactionMetadata)||void 0===v?void 0:v.user.id,I=(0,s.e7)([m.default],()=>m.default.getUser(x)),p=(0,s.e7)([f.Z],()=>f.Z.getGuild(S)),_=(0,s.e7)([m.default],()=>m.default.getUser(N));if(l.useEffect(()=>{null==I&&null!=x&&(0,o.PR)(x)},[I,x]),!(0,c.a)(e))return null;null==_&&(_=new g.Z(null===(Z=e.interactionMetadata)||void 0===Z?void 0:Z.user));let T=null;return null!=p?T=(0,i.jsx)(r.sNh,{className:E.interactionInfoMenuItem,disabled:!0,iconLeft:()=>(0,i.jsx)(u.Z,{guild:p,size:u.Z.Sizes.MINI}),id:"integration-owner",label:p.name,subtext:h.intl.formatToPlainString(h.t.ShLXXF,{application:e.author.username})}):null!=I&&(T=(0,i.jsx)(r.sNh,{className:E.interactionInfoMenuItem,disabled:!0,iconLeft:()=>(0,i.jsx)(d.Z,{user:I,size:r.EFr.SIZE_20}),id:"integration-owner",label:I.username,subtext:h.intl.formatToPlainString(h.t.ShLXXF,{application:e.author.username})})),(0,i.jsxs)(r.sNh,{id:"view-interaction-info",label:h.intl.string(h.t.Rjezb2),children:[T,null!=_?(0,i.jsx)(r.sNh,{className:E.interactionInfoMenuItem,disabled:!0,iconLeft:()=>(0,i.jsx)(d.Z,{user:_,size:r.EFr.SIZE_20}),id:"interaction-user",label:_.username,subtext:h.intl.string(h.t["04gxNj"])}):null]})}},481300:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(481060),a=n(247206),s=n(388032);function r(e,t){return null!=t&&(0,a.KP)({type:a.lJ.GenericMedia,media:t},(0,a.HH)(e))?(0,i.jsx)(l.sNh,{id:"report-image-false-positive",label:s.intl.string(s.t.ZH7P2t),action:()=>{(0,l.ZDy)(async()=>{let{default:l}=await n(788679);return n=>(0,i.jsx)(l,{channelId:e.channel_id,messageId:e.id,mediaItemUrl:t.url,...n})})},icon:l.fFY},"report-image-false-positive"):null}},975368:function(e,t,n){n.d(t,{Z:()=>u}),n(789020);var i=n(200651);n(192379);var l=n(481060),a=n(378409),s=n(630388),r=n(49012),o=n(694859),d=n(981631),c=n(388032);function u(e){let t=(0,o.X)("use-save-voice-message-audio");return(0,s.yE)(e.flags,d.iLy.IS_VOICE_MESSAGE)&&t?(0,i.jsx)(l.sNh,{id:"save-voice-message-audio",label:c.intl.string(c.t.vbAEaG),icon:l._8t,action:()=>{let t=(0,a.s$)(e.attachments[0].url);(0,r.q)({href:t})}}):null}},694859:function(e,t,n){n.d(t,{X:()=>l});let i=(0,n(818083).B)({kind:"user",id:"2024-12_save_voice_message_menu_item",label:"Save voice message menu item on web",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Save voice message menu item active",config:{enabled:!0}}]});function l(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i.useExperiment({location:e},{autoTrackExposure:t}).enabled}},36998:function(e,t,n){n.d(t,{v:()=>a});var i=n(944486),l=n(176505);function a(){var e;let t=null!==(e=i.Z.getCurrentlySelectedChannelId())&&void 0!==e?e:void 0;return null!=t&&(0,l.AB)(t)?{channel_static_route:t}:{channel_id:t}}},26737:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(481060),a=n(358085),s=n(998502),r=n(388032);function o(e,t){return a.isPlatformEmbedded&&(null==e?void 0:e.length)!==0?(0,i.jsx)(l.sNh,{id:"copy",label:r.intl.string(r.t.OpuAlJ),hint:(0,a.isMac)()?"âŒ˜C":"Ctrl+C",action:()=>{s.ZP.copy(e),null==t||t.focus()}}):null}},29264:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var l=n(481060),a=n(378409),s=n(976853),r=n(626135),o=n(358085),d=n(960048),c=n(998502),u=n(36998),g=n(981631),f=n(388032);function m(e,t){(0,l.showToast)((0,l.createToast)(e,l.ToastType.FAILURE)),d.Z.captureException(t)}function h(e,t,n){if((0,s.Z)(null==t?void 0:t.getChannelId())||(null==n?void 0:n.shouldHideMediaOptions)===!0||!o.isPlatformEmbedded||null==e||!(0,a.gS)(e))return null;let d=(0,a.s$)(e),h=async()=>{try{await c.ZP.saveImage(d),r.default.track(g.rMx.CONTEXT_MENU_IMAGE_SAVED,{...(0,u.v)()}),(0,l.showToast)((0,l.createToast)(f.intl.string(f.t.cqpdJS),l.ToastType.SUCCESS))}catch(e){r.default.track(g.rMx.CONTEXT_MENU_IMAGE_SAVE_FAILED,{...(0,u.v)()}),m(f.intl.string(f.t["8Ve/S0"]),e)}},E=async()=>{try{await c.ZP.copyImage(d),r.default.track(g.rMx.CONTEXT_MENU_IMAGE_COPIED,{...(0,u.v)()}),(0,l.showToast)((0,l.createToast)(f.intl.string(f.t.bhUpvL),l.ToastType.SUCCESS))}catch(e){m(f.intl.string(f.t.PTPbj4),e),r.default.track(g.rMx.CONTEXT_MENU_IMAGE_COPY_FAILED,{...(0,u.v)()})}};return[c.ZP.canCopyImage()&&(0,a.Lz)(e)?(0,i.jsx)(l.sNh,{id:"copy-image",label:f.intl.string(f.t.tvUqWl),action:E},"copy-image"):null,(0,i.jsx)(l.sNh,{id:"save-image",label:f.intl.string(f.t.PeXhgI),action:h},"save-image")]}},905041:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var l=n(481060),a=n(378409),s=n(976853),r=n(902676),o=n(626135),d=n(49012),c=n(358085),u=n(998502),g=n(36998),f=n(981631),m=n(388032);function h(e,t,n,h){let E=(0,s.Z)(null==n?void 0:n.getChannelId());if(!c.isPlatformEmbedded||null==e||""===e||E||(null==h?void 0:h.shouldHideMediaOptions)===!0||!(0,a.Jj)(e))return null;let v=(0,r.F)(e),Z=n=>{o.default.track(f.rMx.CONTEXT_MENU_LINK_OPENED,{hostname:v,...(0,g.v)()}),(0,d.q)({href:e,trusted:(0,d.r)(e,t),shouldConfirm:!0},n)};return[(0,i.jsx)(l.sNh,{id:"copy-native-link",label:m.intl.string(m.t.WqhZsr),action:()=>{o.default.track(f.rMx.CONTEXT_MENU_LINK_COPIED,{hostname:v,...(0,g.v)()}),u.ZP.copy(e),(0,l.showToast)((0,l.createToast)(m.intl.string(m.t["L/PwZW"]),l.ToastType.SUCCESS))}},"copy-native-link"),(0,i.jsx)(l.sNh,{id:"open-native-link",label:m.intl.string(m.t.wuRE8P),action:e=>Z(e)},"open-native-link")]}},89013:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651),l=n(192379),a=n(512722),s=n.n(a),r=n(481060),o=n(626135),d=n(358085),c=n(981631),u=n(388032);function g(e){let t=l.useCallback(()=>{s()(null!=e,"text cannot be null"),o.default.track(c.rMx.MESSAGE_MENU_GOOGLE_SEARCHED),window.open("https://www.google.com/search?q=".concat(encodeURIComponent(e)),"_blank")},[e]);return d.isPlatformEmbedded&&null!=e&&(null==e?void 0:e.length)!==0?[(0,i.jsx)(r.sNh,{id:"search-google",label:u.intl.string(u.t["Rd/Mkp"]),action:t},"search-google")]:null}},615669:function(e,t,n){n.d(t,{Z:()=>o,z:()=>s}),n(653041);var i,l=n(442837),a=n(314897),s=((i={})[i.END_EARLY=0]="END_EARLY",i);let r=[];function o(e){let t=(0,l.e7)([a.default],()=>a.default.getId()),{poll:n}=e;if(!e.isPoll()||null==n)return r;let i=[];return n.expiry.isSameOrBefore(Date.now())||e.author.id!==t||i.push(0),i}},988500:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var l=n(481060),a=n(203143),s=n(615669),r=n(388032);let o={[s.z.END_EARLY]:e=>(0,i.jsx)(l.sNh,{id:"end-poll-early",label:r.intl.string(r.t.grdwws),icon:l.e0C,action:()=>{a.Z.endPollEarly({channelId:e.channel_id,messageId:e.id})},iconProps:{color:"currentColor"}})};function d(e){let t=(0,s.Z)(e);return 0===t.length?null:(0,i.jsx)(i.Fragment,{children:t.map(t=>o[t](e))})}},280845:function(e,t,n){n.d(t,{U:()=>f,o:()=>m}),n(47120);var i=n(275726),l=n(442837),a=n(71619),s=n(665906),r=n(496675),o=n(594174),d=n(981631),c=n(231338);function u(e,t,n){let l;return(e.isPrivate()?!e.isSystemDM():n.can(c.Pl.SEND_MESSAGES,e)&&n.can(c.Pl.READ_MESSAGE_HISTORY,e))&&i.V.REPLYABLE.has(t.type)}function g(e,t,n,i,l){let a=t.hasFlag(d.iLy.EPHEMERAL),s=t.state===d.yb.SENT,r=!e.isArchivedThread()||l;return n&&s&&!a&&!i&&r}function f(e,t){var n;let i=(0,s.tc)(e),[,o]=(0,a.AB)(null!==(n=null==e?void 0:e.getGuildId())&&void 0!==n?n:void 0),d=(0,l.e7)([r.Z],()=>null!=e&&null!=t&&u(e,t,r.Z));return null!=e&&null!=t&&g(e,t,d,o,i)}function m(e,t){var n;let i=(0,s.kn)(e),l=u(e,t,r.Z),d=o.default.getCurrentUser(),[,c]=(0,a.s5)(null==d?void 0:d.id,null!==(n=e.getGuildId())&&void 0!==n?n:void 0);return g(e,t,l,c,i)}},550727:function(e,t,n){n.d(t,{B:()=>s});var i=n(913527),l=n.n(i),a=n(388032);let s=[{getDueAt:()=>l()().add(30,"minutes").toDate(),getLabel:()=>a.intl.string(a.t["OV8l/P"])},{getDueAt:()=>l()().add(1,"hour").toDate(),getLabel:()=>a.intl.string(a.t["zf0R+/"])},{getDueAt:()=>l()().add(4,"hour").toDate(),getLabel:()=>a.intl.string(a.t["5gztZG"])},{getDueAt:()=>l()().add(1,"day").startOf("day").add(9,"hours").toDate(),getLabel:()=>a.intl.string(a.t["7MKr2N"])},{getDueAt:()=>l()().day(8).startOf("day").add(9,"hours").toDate(),getLabel:()=>a.intl.string(a.t["q+Ls09"])}]},898150:function(e,t,n){n.d(t,{MessageReminderEditMenu:()=>u,r:()=>c}),n(653041);var i=n(200651),l=n(192379),a=n(481060),s=n(239091),r=n(324701),o=n(550727),d=n(388032);function c(e){let{createReminder:t}=e,s=l.useCallback(()=>{(0,a.ZDy)(async()=>{let{default:e}=await n.e("43866").then(n.bind(n,423639));return n=>(0,i.jsx)(e,{...n,createReminder:t})})},[t]);return l.useMemo(()=>{let e=o.B.map(e=>{let{getDueAt:n,getLabel:l}=e;return(0,i.jsx)(a.sNh,{id:"create-reminder-".concat(l()),label:l(),action:()=>t(n())},"create-reminder-".concat(l()))});return e.push((0,i.jsx)(a.sNh,{id:"create-reminder-custom",label:d.intl.string(d.t.OLA8Zm),action:s},"custom")),e},[t,s])}function u(e){let{message:t,label:n}=e,l=c({createReminder:e=>(0,r.z)({channelId:t.channel_id,messageId:t.id,dueAt:e})});return(0,i.jsx)(a.v2r,{navId:"message-reminder-create",onClose:s.Zy,"aria-label":d.intl.string(d.t.mJ3P0N),onSelect:()=>null,children:(0,i.jsx)(a.kSQ,{label:n,children:l})})}},624453:function(e,t,n){n.d(t,{Z:()=>_}),n(733860);var i,l,a,s=n(392711),r=n.n(s),o=n(442837),d=n(570140),c=n(247206),u=n(786761),g=n(706454),f=n(592125),m=n(271383),h=n(430824),E=n(375954),v=n(699516),Z=n(594174);let x={};function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=f.Z.getChannel(e),a=null!=l?l.getGuildId():null;return{id:e,messages:t.map(e=>(0,u.e5)(e)),guildId:a,loaded:n,loading:i}}function N(e){let{channel:t}=e;delete x[t.id]}function I(){r().forEach(x,e=>{e.messages=e.messages.map(e=>e.set("blocked",v.Z.isBlockedForMessage(e)).set("ignored",v.Z.isIgnoredForMessage(e)))})}class p extends(i=o.ZP.Store){initialize(){this.waitFor(f.Z,h.Z,m.ZP,E.Z,Z.default,g.default)}getPinnedMessages(e){var t;return null!==(t=x[e])&&void 0!==t?t:void 0}loaded(e){return null!=x[e]&&x[e].loaded}}a="ChannelPinsStore",(l="displayName")in p?Object.defineProperty(p,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):p[l]=a;let _=new p(d.Z,{CONNECTION_OPEN:function(){x={}},GUILD_DELETE:function(e){let{guild:t}=e;x=r()(x).filter(e=>e.guildId!==t.id).keyBy("id").value()},MESSAGE_UPDATE:function(e){let t=e.message.id,n=e.message.channel_id;if(null==n)return!1;let i=x[n];if(null==i&&!e.message.pinned)return!1;if(null==e.message.author){if(null!=i){let l=r().findIndex(i.messages,e=>e.id===t);if(l>=0){let t=i.messages[l],a=(0,u.wi)(t,e.message);if(a!==t){let e=i.messages.slice();e[l]=a,x[n].messages=e}}}return}if(e.message.pinned){if(null==i){i=S(n,[e.message],!1),x[n]=i;return}i.messages=i.messages.slice();let l=r().findIndex(i.messages,e=>e.id===t);-1===l?i.messages.unshift((0,u.e5)(e.message)):i.messages[l]=(0,u.wi)(i.messages[l],e.message),x[n]=i}else{if(null==i)return;let e=r().findIndex(i.messages,e=>e.id===t);if(-1===e)return;i.messages=i.messages.slice(),i.messages.splice(e,1),x[n]=i}},MESSAGE_DELETE:function(e){let{id:t,channelId:n}=e,i=x[n];if(null==i||0===r().remove(i.messages,e=>e.id===t).length)return!1;i.messages=i.messages.slice(),x[n]=i},MESSAGE_DELETE_BULK:function(e){let{ids:t,channelId:n}=e,i=x[n];null!=i&&(i.messages=i.messages.filter(e=>-1===t.indexOf(e.id)))},LOAD_PINNED_MESSAGES:function(e){let{channelId:t}=e;x[t]=S(t,[],!1,!0)},LOAD_PINNED_MESSAGES_SUCCESS:function(e){let{channelId:t,messages:n}=e;x[t]=S(t,n,!0)},LOAD_PINNED_MESSAGES_FAILURE:function(e){let{channelId:t}=e;delete x[t]},CHANNEL_DELETE:N,THREAD_DELETE:N,RELATIONSHIP_ADD:I,RELATIONSHIP_REMOVE:I,RELATIONSHIP_UPDATE:I,MESSAGE_EXPLICIT_CONTENT_SCAN_TIMEOUT:function(e){let{messageId:t,channelId:n}=e,i=x[n];if(null==i)return;let l=r().findIndex(i.messages,e=>e.id===t);-1!==l&&(i.messages=i.messages.slice(),i.messages[l]=(0,c.Cm)(i.messages[l]),x[n]=i)}})},970257:function(e,t,n){n.d(t,{a4:()=>o,vc:()=>d});var i=n(592125),l=n(650774),a=n(496675),s=n(594174),r=n(981631);function o(e){return null!=e&&function(e){if(null==e)return!1;let t=e.id,n=s.default.getCurrentUser();return null!=n&&n.id!==t&&!0!==e.system}(e.author)}function d(e){return null!=e&&o(e)&&function(e){let t=i.Z.getChannel(e);if(null==t)return!1;if(t.type===r.d4z.DM||t.type===r.d4z.GROUP_DM)return!0;if(a.Z.canWithPartialContext(r.Plq.MANAGE_MESSAGES,{channelId:e})){let e=l.Z.getMemberCount(t.getGuildId());return null!=e&&e>=50}return!1}(e.getChannelId())}}}]);
//# sourceMappingURL=61d756168f660bfe.js.map